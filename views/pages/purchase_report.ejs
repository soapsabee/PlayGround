<% include ../partials/header.ejs %>
<% include ../partials/navbar.ejs %>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>


<canvas id="myChart"></canvas>

<script>

var monthNames = ["","January", "February", "March", "April", "May","June","July", "August", "September", "October", "November","December"];
var ctx = document.getElementById('myChart').getContext('2d');
ctx.canvas.height = 100;
var chart = new Chart(ctx, {
    // The type of chart we want to create
    type: 'bar',

    // The data for our dataset
    data: {
        labels: ["Storage is now"],
        datasets: [
            //ใช้ loop ของ javascript แทน นอนก่อน
            for (var int i=0;i<results2.length;i++){
        
            {   
            label: monthNames[<%= r.results2[i].buy_at %>],
            backgroundColor: 'rgb(255, 102, 178)',
            borderColor: 'rgb(255, 102, 178)',
            data: ["<%= r.results2[i].sale %>"],
            
        },
            }
            
    }]
    },
   
    // Configuration options go here
    options: { 
    responsive: true,
    maintainAspectRatio: true,
    scales: {
        yAxes: [{
            ticks: {
                beginAtZero:true
            }
        }]
    }}
});

 

</script>

<div class="container">
<h2>Database Results</h2>
<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Tag</th>
        </tr>
    </thead>
    <tbody>
  
        <tr>
            <td><%= results%></td>
            <td><%= results2.results2[0].sale %></td>   
                   
        
        </tr>
        
  
    
    
        

    </tbody>

</table>
<div id ="total"> </div>

</div>

<% include ../partials/footer.ejs %>